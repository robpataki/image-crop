<!DOCTYPE html>
<html>

<head>
  <title>Image crop</title>
  <style>
    body {
      font-family: Arial, Verdana, sans-serif;
    }

    canvas {
      border: 2px solid rgb(0, 0, 0, 50%);
      background: rgb(255, 0, 0, 5%);
      margin: 1rem 0;
    }

    #photo-editor {
      user-select: none;
    }
  </style>
</head>

<body>
  <!-- 
  - Load source image into preview area  
  - Apply fixed crop area (7:9) to the preview image  
  - Optionally rotate preview image (maintain fixed crop area)
  - Enforce minimum width and height 531x413px (green/red status)
  - Export edited image as bytearray or dataURL
-->
  <div id="photo-editor">
    <div>
      <label for="photo-upload">Upload photo</label>
      <input type="file" name="photo-upload" id="photo-upload" accept=".jpg,.png,.webp,.jpeg,.gif" />
    </div>
    <br/>
    <hr/>
    <div id="status-message">...</div>
    <hr/>
    <br />
    <div>
      <button type="button" id="rotate-button">Rotate 90 deg</button>
      <button type="button" id="reset-button">Reset</button>
      <button type="button" id="save-button">Save image</button>
    </div>
    <hr/>
    <div>
      <canvas id="editor-canvas"></canvas>
      <canvas id="export-canvas"></canvas>
      <br/>
      <hr />
      <button type="button" id="toggle-source-button">Toggle source</button>
      <div id="source-image" style="display: none;">
        <h2>Source image</h2>
        <canvas id="source-canvas"></canvas>
        <div>
          <h3>Source image details</h3>
          <span id="source-image-details">...</span>
        </div>
      </div>
    </div>
  </div>

  <script src="image-crop.js"></script>
</body>

</html>